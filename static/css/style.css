/* Variáveis CSS para temas */
:root {
    /* Tema Hotline Miami (padrão) */
    --cor-primary: #ff006e;
    --cor-secondary: #00f5ff;
    --cor-accent: #ffff00;
    --cor-text: #00f5ff;
    --bg-primary: #1a0033;
    --bg-secondary: #0a0a0a;
    --bg-gradient: linear-gradient(135deg, #1a0033, #0a0a0a);
    --cor-success: #00ff41;
    --cor-warning: #ffff00;
    --cor-danger: #ff006e;
    --cor-info: #00f5ff;
}

/* Tema Cyberpunk 2077 */
body.tema-cyberpunk {
    --cor-primary: #fcee09;
    --cor-secondary: #00d4ff;
    --cor-accent: #ff003c;
    --cor-text: #00d4ff;
    --bg-primary: #0f1419;
    --bg-secondary: #000000;
    --bg-gradient: linear-gradient(135deg, #0f1419, #000000);
}

/* Tema Synthwave */
body.tema-synthwave {
    --cor-primary: #ff0080;
    --cor-secondary: #00ffff;
    --cor-accent: #ff8000;
    --cor-text: #00ffff;
    --bg-primary: #2d1b69;
    --bg-secondary: #0f0f23;
    --bg-gradient: linear-gradient(135deg, #2d1b69, #0f0f23);
}

/* Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Estilo base */
body {
    font-family: 'Orbitron', monospace;
    background: var(--bg-gradient);
    color: var(--cor-text);
    min-height: 100vh;
}

/* Navbar Cyberpunk */
.cyber-nav {
    background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary)) !important;
    border-bottom: 2px solid var(--cor-primary);
    box-shadow: 0 0 20px var(--cor-primary);
    backdrop-filter: blur(10px);
}

.cyber-nav .navbar-brand {
    color: var(--cor-primary) !important;
    text-shadow: 0 0 10px var(--cor-primary);
    font-size: 1.5rem;
    letter-spacing: 2px;
}

.cyber-nav .nav-link {
    color: var(--cor-text) !important;
    font-weight: 500;
    text-shadow: 0 0 5px var(--cor-secondary);
    transition: all 0.3s ease;
    position: relative;
}

.cyber-nav .nav-link:hover,
.cyber-nav .nav-link.active {
    color: var(--cor-primary) !important;
    text-shadow: 0 0 15px var(--cor-primary);
    transform: translateY(-1px);
}

.cyber-nav .nav-link.active::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 50%;
    transform: translateX(-50%);
    width: 30px;
    height: 2px;
    background: var(--cor-primary);
    box-shadow: 0 0 10px var(--cor-primary);
}

/* Dropdown cyberpunk melhorado */
.cyber-dropdown {
    background: linear-gradient(135deg, rgba(26, 0, 51, 0.95), rgba(10, 10, 10, 0.98)) !important;
    border: 2px solid var(--cor-secondary) !important;
    border-radius: 15px !important;
    box-shadow: 
        0 0 25px rgba(0, 212, 255, 0.4),
        0 8px 32px rgba(0, 0, 0, 0.8),
        inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(10px);
    margin-top: 8px !important;
    padding: 8px 0 !important;
    min-width: 220px !important;
    animation: dropdownFadeIn 0.3s ease-out;
    z-index: 9999 !important;
    position: absolute !important; /* Força posição absoluta */
    top: 100% !important; /* Posiciona logo abaixo do elemento pai */
    left: 0 !important;
}

/* Z-index para o dropdown pai também */
.nav-item.dropdown {
    z-index: 9999 !important;
    position: relative !important;
}

/* Garantir que o dropdown não afete o layout da navbar */
.navbar .dropdown-menu {
    position: absolute !important;
    top: 100% !important;
    transform: none !important;
    margin: 0 !important;
}

/* Prevenir que a navbar expanda */
.navbar {
    min-height: auto !important;
    height: auto !important;
    overflow: visible !important;
}

/* Garantir que todos os dropdowns Bootstrap ficam na frente */
.dropdown-menu {
    z-index: 9999 !important;
}

/* Z-index para todos os elementos dropdown pai */
.dropdown {
    z-index: 9999 !important;
    position: relative;
}

/* Dropdowns dentro de cards cyber precisam ter posição fixa */
.cyber-card .dropdown .dropdown-menu {
    z-index: 10000 !important;
    position: absolute !important;
}

/* Dropdowns dentro de tabelas também precisam de z-index alto */
.cyber-table .dropdown .dropdown-menu {
    z-index: 10000 !important;
    position: absolute !important;
}

/* Garantir que tbody e tr também não cortem dropdowns */
.cyber-table tbody,
.cyber-table tr {
    overflow: visible !important;
}

/* Container table-responsive também deve permitir overflow */
.table-responsive {
    overflow: visible !important;
}

/* Navbar também precisa de z-index alto */
.navbar {
    z-index: 1030 !important;
    position: relative !important;
    min-height: 56px !important; /* Altura fixa da navbar */
    max-height: 56px !important; /* Previne expansão */
    overflow: visible !important;
}

/* Container da navbar não deve expandir */
.navbar-collapse {
    position: relative !important;
}

/* Dropdown deve sair do fluxo normal */
.navbar .nav-item.dropdown .dropdown-menu {
    position: absolute !important;
    top: calc(100% + 5px) !important;
    left: 0 !important;
    right: auto !important;
    transform: none !important;
    margin: 0 !important;
    display: none; /* Inicialmente escondido */
}

/* Quando o dropdown está ativo/mostrado */
.navbar .nav-item.dropdown .dropdown-menu.show {
    display: block !important;
}

/* Força a navbar a manter altura fixa mesmo com dropdown aberto */
.navbar-expand-lg {
    min-height: 56px !important;
    max-height: 56px !important;
}

.navbar-nav {
    position: relative !important;
    min-height: auto !important;
}

/* Remove qualquer padding/margin que possa causar expansão */
.navbar .dropdown {
    margin: 0 !important;
    padding: 0 !important;
}

/* Garantir que elementos do dashboard não interfiram com dropdowns */
.dashboard-stats, .info-grid, .container-fluid > .row {
    z-index: 1 !important;
    position: relative;
}

/* Força todos os elementos principais para baixo z-index */
main, .container, .container-fluid {
    z-index: 1 !important;
    position: relative;
}

/* Bootstrap Modal overrides - IMPORTANTE para funcionar */
.modal {
    z-index: 99999 !important;
    pointer-events: auto !important;
}

.modal-backdrop {
    z-index: 99998 !important;
    pointer-events: auto !important;
}

.modal-dialog {
    pointer-events: auto !important;
    z-index: 99999 !important;
    position: relative !important;
}

.modal-content {
    pointer-events: auto !important;
    z-index: 99999 !important;
    position: relative !important;
}

.modal .btn {
    pointer-events: auto !important;
    cursor: pointer !important;
    z-index: 99999 !important;
    position: relative !important;
}

.modal form {
    pointer-events: auto !important;
    z-index: 99999 !important;
}

.modal button {
    pointer-events: auto !important;
    cursor: pointer !important;
    z-index: 99999 !important;
}

/* Garantir que nada interfira com o modal */
.modal * {
    pointer-events: auto !important;
}

/* Forçar o modal para frente de TUDO */
#deleteModal {
    z-index: 999999 !important;
}

#deleteModal .modal-dialog {
    z-index: 999999 !important;
}

#deleteModal .modal-content {
    z-index: 999999 !important;
}

@keyframes dropdownFadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.cyber-dropdown::before {
    content: '';
    position: absolute;
    top: -6px;
    left: 20px;
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-bottom: 6px solid var(--cor-secondary);
}

.cyber-dropdown .dropdown-item {
    color: var(--cor-text) !important;
    padding: 12px 20px !important;
    border-radius: 8px !important;
    margin: 2px 8px !important;
    transition: all 0.3s ease !important;
    position: relative;
    font-weight: 500;
    display: flex;
    align-items: center;
}

.cyber-dropdown .dropdown-item::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 3px;
    background: transparent;
    border-radius: 0 3px 3px 0;
    transition: all 0.3s ease;
}

.cyber-dropdown .dropdown-item:hover {
    background: linear-gradient(90deg, 
        rgba(0, 212, 255, 0.15), 
        rgba(0, 212, 255, 0.08)) !important;
    color: var(--cor-primary) !important;
    text-shadow: 0 0 15px var(--cor-primary);
    transform: translateX(5px);
    border-left: 3px solid var(--cor-primary);
}

.cyber-dropdown .dropdown-item:hover::before {
    background: var(--cor-primary);
    box-shadow: 0 0 10px var(--cor-primary);
}

.cyber-dropdown .dropdown-item:active {
    transform: translateX(3px);
    background: linear-gradient(90deg, 
        rgba(255, 0, 110, 0.2), 
        rgba(255, 0, 110, 0.1)) !important;
}

.cyber-dropdown .dropdown-item i {
    width: 20px;
    text-align: center;
    margin-right: 10px !important;
    transition: all 0.3s ease;
}

.cyber-dropdown .dropdown-item:hover i {
    color: var(--cor-primary) !important;
    text-shadow: 0 0 10px var(--cor-primary);
    transform: scale(1.1);
}

.cyber-dropdown .dropdown-divider {
    border-color: rgba(0, 212, 255, 0.3) !important;
    margin: 8px 16px !important;
    height: 1px !important;
    background: linear-gradient(90deg, 
        transparent, 
        var(--cor-secondary), 
        transparent) !important;
    box-shadow: 0 0 5px rgba(0, 212, 255, 0.3);
}

/* Estilo especial para o caça-níquel */
.cyber-dropdown .dropdown-item[href*="caca-niquel"] {
    background: linear-gradient(90deg, 
        rgba(255, 215, 0, 0.1), 
        rgba(255, 106, 107, 0.1)) !important;
    border: 1px solid rgba(255, 215, 0, 0.3);
}

.cyber-dropdown .dropdown-item[href*="caca-niquel"]:hover {
    background: linear-gradient(90deg, 
        rgba(255, 215, 0, 0.2), 
        rgba(255, 106, 107, 0.2)) !important;
    color: #ffd700 !important;
    text-shadow: 0 0 15px #ffd700;
    border-color: #ffd700;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
}

/* Cards cyberpunk */
.cyber-card {
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid var(--cor-secondary);
    border-radius: 15px;
    box-shadow: 
        0 0 20px var(--cor-secondary),
        inset 0 0 20px rgba(0, 245, 255, 0.1);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    position: relative;
    z-index: 1; /* Z-index baixo para não interferir com dropdowns */
    overflow: visible !important; /* Permitir que dropdowns saiam do container */
}

.cyber-card:hover {
    transform: translateY(-5px);
    border-color: var(--cor-primary);
    box-shadow: 
        0 0 30px var(--cor-primary),
        inset 0 0 30px rgba(255, 0, 110, 0.1);
}

.cyber-card .card-header {
    background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
    border-bottom: 2px solid var(--cor-primary);
    color: var(--cor-primary);
    font-weight: bold;
    text-shadow: 0 0 10px var(--cor-primary);
    text-transform: uppercase;
    letter-spacing: 1px;
    overflow: visible !important; /* Permitir que dropdowns saiam do header */
}

/* Tabelas cyberpunk */
.cyber-table {
    background: rgba(0, 0, 0, 0.6);
    border-radius: 10px;
    overflow: visible !important; /* Permitir que dropdowns saiam da tabela */
    border: 2px solid var(--cor-primary);
    box-shadow: 0 0 25px var(--cor-primary);
}

.cyber-table th {
    background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
    color: var(--cor-primary);
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 10px var(--cor-primary);
    border-bottom: 2px solid var(--cor-primary);
    padding: 15px;
}

.cyber-table td {
    background: rgba(0, 0, 0, 0.3);
    color: var(--cor-text);
    border-bottom: 1px solid var(--cor-primary);
    padding: 12px 15px;
    transition: all 0.3s ease;
}

.cyber-table tbody tr:hover td {
    background: rgba(255, 0, 110, 0.1);
    color: var(--cor-primary);
    text-shadow: 0 0 5px var(--cor-primary);
}

/* Badges de ranking */
.ranking-badge {
    font-size: 1.2em;
    font-weight: bold;
    text-shadow: 0 0 10px;
    padding: 8px 15px;
    border-radius: 20px;
    border: 2px solid;
}

.ranking-1 {
    background: linear-gradient(45deg, rgba(255, 215, 0, 0.3), rgba(255, 140, 0, 0.3));
    color: #ffd700;
    border-color: #ffd700;
    text-shadow: 0 0 15px #ffd700;
}

.ranking-2 {
    background: linear-gradient(45deg, rgba(192, 192, 192, 0.3), rgba(169, 169, 169, 0.3));
    color: #c0c0c0;
    border-color: #c0c0c0;
    text-shadow: 0 0 15px #c0c0c0;
}

.ranking-3 {
    background: linear-gradient(45deg, rgba(205, 127, 50, 0.3), rgba(184, 115, 51, 0.3));
    color: #cd7f32;
    border-color: #cd7f32;
    text-shadow: 0 0 15px #cd7f32;
}

.ranking-outros {
    color: var(--cor-text);
    border-color: var(--cor-secondary);
    text-shadow: 0 0 10px var(--cor-secondary);
}

/* Botões cyberpunk */
.btn-cyber {
    background: linear-gradient(45deg, var(--bg-primary), var(--bg-secondary));
    border: 2px solid var(--cor-primary);
    color: var(--cor-text);
    font-family: 'Orbitron', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 10px 20px;
    border-radius: 5px;
    transition: all 0.3s ease;
    box-shadow: 
        0 0 15px var(--cor-primary),
        inset 0 0 15px rgba(255, 0, 110, 0.1);
}

.btn-cyber:hover {
    background: linear-gradient(45deg, var(--bg-secondary), var(--bg-primary));
    border-color: var(--cor-secondary);
    color: var(--cor-secondary);
    box-shadow: 
        0 0 25px var(--cor-secondary),
        inset 0 0 25px rgba(0, 245, 255, 0.2);
    transform: translateY(-2px);
}

.btn-cyber-primary {
    border-color: var(--cor-primary);
    box-shadow: 0 0 15px var(--cor-primary);
}

.btn-cyber-secondary {
    border-color: var(--cor-secondary);
    box-shadow: 0 0 15px var(--cor-secondary);
}

.btn-cyber-danger {
    border-color: var(--cor-danger);
    box-shadow: 0 0 15px var(--cor-danger);
}

/* Formulários cyberpunk */
.form-control,
.form-select {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--cor-secondary);
    color: var(--cor-text);
    border-radius: 5px;
    font-family: 'Orbitron', monospace;
    transition: all 0.3s ease;
}

.form-control:focus,
.form-select:focus {
    background: rgba(0, 0, 0, 0.8);
    border-color: var(--cor-primary);
    color: var(--cor-text);
    box-shadow: 0 0 15px var(--cor-primary);
}

.form-control::placeholder {
    color: rgba(0, 245, 255, 0.7);
}

.form-label {
    color: var(--cor-text);
    font-weight: bold;
    text-shadow: 0 0 5px var(--cor-secondary);
}

/* Alerts cyberpunk */
.cyber-alert {
    border-radius: 10px;
    border: 2px solid;
    backdrop-filter: blur(10px);
    font-family: 'Orbitron', monospace;
    font-weight: 500;
}

.alert-success {
    background: rgba(0, 255, 65, 0.1);
    border-color: var(--cor-success);
    color: var(--cor-success);
}

.alert-danger,
.alert-error {
    background: rgba(255, 0, 110, 0.1);
    border-color: var(--cor-danger);
    color: var(--cor-danger);
}

.alert-warning {
    background: rgba(255, 255, 0, 0.1);
    border-color: var(--cor-warning);
    color: var(--cor-warning);
}

.alert-info {
    background: rgba(0, 245, 255, 0.1);
    border-color: var(--cor-info);
    color: var(--cor-info);
}

/* Footer */
.cyber-footer {
    background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
    border-top: 2px solid var(--cor-secondary);
    padding: 20px 0;
    margin-top: auto;
}

.cyber-footer p {
    color: var(--cor-text);
    text-shadow: 0 0 5px var(--cor-secondary);
}

/* Container principal */
.main-container {
    padding: 30px 0;
    min-height: calc(100vh - 200px);
}

/* Estatísticas do dashboard */
.stats-card {
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid var(--cor-accent);
    border-radius: 15px;
    padding: 25px;
    text-align: center;
    box-shadow: 
        0 0 20px var(--cor-accent),
        inset 0 0 20px rgba(255, 255, 0, 0.1);
    transition: all 0.3s ease;
}

.stats-card:hover {
    transform: translateY(-5px);
    box-shadow: 
        0 0 30px var(--cor-accent),
        inset 0 0 30px rgba(255, 255, 0, 0.2);
}

.stats-card .stats-number {
    font-size: 3rem;
    font-weight: 900;
    color: var(--cor-accent);
    text-shadow: 0 0 20px var(--cor-accent);
    display: block;
    margin-bottom: 10px;
}

.stats-card .stats-label {
    color: var(--cor-text);
    font-size: 1.1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Responsividade */
@media (max-width: 768px) {
    .cyber-nav .navbar-brand {
        font-size: 1.2rem;
    }
    
    .stats-card .stats-number {
        font-size: 2rem;
    }
    
    .cyber-table th,
    .cyber-table td {
        padding: 8px;
        font-size: 0.9rem;
    }
    
    .btn-cyber {
        padding: 8px 15px;
        font-size: 0.9rem;
    }
}

@media (max-width: 480px) {
    .main-container {
        padding: 15px 0;
    }
    
    .cyber-card {
        margin-bottom: 20px;
    }
    
    .stats-card {
        margin-bottom: 20px;
    }
}

/* Animações suaves */
.fade-in {
    animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.pulse-glow {
    animation: pulseGlow 2s infinite;
}

@keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 20px var(--cor-primary); }
    50% { box-shadow: 0 0 30px var(--cor-primary), 0 0 40px var(--cor-primary); }
}

/* Login page específico */
.login-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-gradient);
}

.login-card {
    max-width: 400px;
    width: 100%;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--cor-primary);
    border-radius: 15px;
    padding: 30px;
    box-shadow: 
        0 0 30px var(--cor-primary),
        inset 0 0 30px rgba(255, 0, 110, 0.1);
    backdrop-filter: blur(10px);
}

.login-title {
    color: var(--cor-primary);
    text-align: center;
    font-size: 2rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 15px var(--cor-primary);
    margin-bottom: 30px;
}

/* Clarear texto muted para melhor visibilidade */
.text-muted {
    color: #cccccc !important;
}

/* Clarear texto muted em temas específicos */
body.tema-cyberpunk .text-muted {
    color: #bbbbbb !important;
}

body.tema-synthwave .text-muted {
    color: #dddddd !important;
}
